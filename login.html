<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login Ke Halaman</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      object-fit: cover;
    }
    ::selection {
      background-color: gray;
    }
    .container {
      margin: 0 auto;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 700px;
      width: 426px;
    }
    .form {
      width: 400px;
      height: 400px;
      background-color: rgba(255, 255, 255, 0.052);
      backdrop-filter: blur(5px);
      display: flex;
      align-items: center;
      flex-direction: column;
      border-radius: 0.5rem;
      padding: 2rem 1rem;
    }
    .title {
      color: white;
      margin: 2rem 0 1rem 0;
      font-size: 2rem;
    }
    .input {
      margin: 0.5rem 0;
      padding: 1rem 0.5rem;
      width: 20rem;
      background-color: inherit;
      color: wheat;
      border: none;
      outline: none;
      border-bottom: 1px solid lightblue;
      transition: all 400ms;
    }
    .input:hover {
      background-color: #424242;
      border: none;
      border-radius: 0.5rem;
    }
    .btn {
      height: 3rem;
      width: 20rem;
      margin-top: 2rem;
      background-color: lightblue;
      border-radius: 0.5rem;
      border: none;
      font-size: 1.2rem;
      transition: all 400ms;
      cursor: pointer;
      box-shadow:
        0 0 10px antiquewhite,
        0 0 10px antiquewhite;
    }
    .btn:hover {
      background-color: antiquewhite;
      box-shadow: none;
    }
    #page {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.85); 
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: all 0.3s ease;
    }
    #container {
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }
    #h3 {
      color: white;
    }
    #ring {
      width: 190px;
      height: 190px;
      border: 1px solid transparent;
      border-radius: 50%;
      position: absolute;
    }
    #ring:nth-child(1) {
      border-bottom: 8px solid rgb(255, 141, 249);
      animation: rotate1 2s linear infinite;
    }
    @keyframes rotate1 {
      from {
        transform: rotateX(50deg) rotateZ(110deg);
      }
      to {
        transform: rotateX(50deg) rotateZ(470deg);
      }
    }
    #ring:nth-child(2) {
      border-bottom: 8px solid rgb(255,65,106);
      animation: rotate2 2s linear infinite;
    }
    @keyframes rotate2 {
      from {
        transform: rotateX(20deg) rotateY(50deg) rotateZ(20deg);
      }
      to {
        transform: rotateX(20deg) rotateY(50deg) rotateZ(380deg);
      }
    }
    #ring:nth-child(3) {
      border-bottom: 8px solid rgb(0,255,255);
      animation: rotate3 2s linear infinite;
    }
    @keyframes rotate3 {
      from {
        transform: rotateX(40deg) rotateY(130deg) rotateZ(450deg);
      }
      to {
        transform: rotateX(40deg) rotateY(130deg) rotateZ(90deg);
      }
    }
    #ring:nth-child(4) {
      border-bottom: 8px solid rgb(252, 183, 55);
      animation: rotate4 2s linear infinite;
    }
    @keyframes rotate4 {
      from {
        transform: rotateX(70deg) rotateZ(270deg);
      }
      to {
        transform: rotateX(70deg) rotateZ(630deg);
      }
    }
    .input-group {
  position: relative;
}

.show-password-btn {
  position: absolute;
  top: 50%;
  right: 1rem;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: #888;
  font-size: 1.2rem;
  cursor: pointer;
  z-index: 3;
  padding: 0;
}

.input-group .form-control.is-invalid ~ .invalid-feedback {
  display: block;
}
.password-wrapper {
  position: relative;
}

.show-password-btn {
  position: absolute;
  top: 50%;
  right: 1rem;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: #888;
  font-size: 1.2rem;
  cursor: pointer;
  z-index: 3;
  padding: 0;
}

.form-control.is-invalid ~ .invalid-feedback {
  display: block;
}

.gif {
  gap: 10px;
}
#particles-js {
  position: fixed;
  width: 100%;
  height: 100%;
  z-index: -1;
  top: 0;
  left: 0;
}
@media screen and (max-width: 768px){
  .form {
    backdrop-filter: none;
  }

  .title {
    text-shadow: 4px 4px 4px  gray;
    font-size: 50px;
    color: aqua;
    z-index: 20;
  }

  .input::placeholder{
    color: white;
  }
  
  .container {
    position:absolute;
    display: block;
  }

  .container .gif {
    width: 200px;
    transform: translateX(100px) !important;
    transform: translateY(-100px);
  }
}

#particles-js {
  position: fixed;
  width: 100%;
  height: 100%;
  z-index: -1;
  top: 0;
  left: 0;
}
  </style>
</head>
<body>
  <div class="container">
    <div class="gif">
    <script src="https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs" type="module" class="gif-a"></script>
<dotlottie-player src="https://lottie.host/785d061e-00ee-4f7c-a9d9-9a8728c1415e/meuGcTrPby.lottie" background="transparent" speed="1.5" class="gif-a" style="width: 200px; height: 200px;" loop autoplay></dotlottie-player>
</div>
    <form class="form needs-validation" id="loginForm" novalidate>
  <p class="title" id="title"></p>

  <div class="mb-3 w-100 position-relative">
    <input placeholder="Username" class="username input form-control" type="text" id="username" required autocomplete="username" />
    <div class="invalid-feedback" id="usernameFeedback">
      Username harus dimulai dengan huruf kapital (contoh: Arya).
    </div>
  </div>

  <div class="mb-3 w-100 password-wrapper">
    <input placeholder="Password" class="password input form-control" type="password" id="password" required autocomplete="current-password" />
    <button type="button" id="togglePassword" class="show-password-btn" tabindex="-1" aria-label="Show password">
      <i class="bi bi-eye"></i>
    </button>
    <div class="invalid-feedback" id="passwordFeedback">
  Password harus minimal 8 karakter, mengandung huruf besar, huruf kecil, dan angka.
</div>
  </div>

  <button class="btn" type="submit">Login</button>
</form>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/particles.js"></script>
<div id="particles-js"></div>
<!-- loading -->
  <div id="page">
    <div id="container">
      <div id="ring"></div>
      <div id="ring"></div>
      <div id="ring"></div>
      <div id="ring"></div>
      <div id="h3">SewaMobilku</div>
    </div>
  </div>
<script src="https://unpkg.com/typeit@8.7.1/dist/index.umd.js"></script>
  <script>
    new TypeIt("#title", {
    strings: "Login Dulu Cuy!",
    speed: 130,
    loop: true,
    waitUntilVisible: true,
}).go();
    // loading
    const loading = document.getElementById('page');
    window.addEventListener('load', function() {
      setTimeout(function() {
        if (loading) {
          loading.classList.add('d-none');
        } 
      }, 2000)
    });
    particlesJS("particles-js", {
    "particles": {
      "number": { "value": 60 },
      "shape": {
        "type": "circle",
        "stroke": { "width": 0, "color": "#000000" },
        "polygon": { "nb_sides": 5 },
      },
      "color": { "value": "#ffffff" },
      "opacity": { "value": 0.2 },
      "size": { "value": 3 },
      "move": {
        "enable": true,
        "speed": 1.5,
        "direction": "none",
        "random": true,
        "straight": false,
        "bounce": false,
      }
    },
    "interactivity": {
      "detect_on": "canvas",
      "events": {
        "onhover": { "enable": true, "mode": "grab" },
        "onclick": { "enable": true, "mode": "push" }
      },
      "modes": {
        "grab": { "distance": 140, "line_linked": { "opacity": 0.3 } },
        "push": { "particles_nb": 4 }
      }
    },
    "retina_detect": true
  });
// validasi form + tombol show password
    document.addEventListener('DOMContentLoaded', function () {
      const form = document.getElementById('loginForm');
      const usernameInput = document.getElementById('username');
      const passwordInput = document.getElementById('password');
      const passwordFeedback = document.getElementById('passwordFeedback');
      const togglePassword = document.getElementById('togglePassword');
      const togglePasswordIcon = togglePassword.querySelector('i');

      togglePassword.addEventListener('click', function (e) {
        e.preventDefault();
        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordInput.setAttribute('type', type);
        if (type === 'text') {
          togglePasswordIcon.classList.remove('bi-eye');
          togglePasswordIcon.classList.add('bi-eye-slash');
        } else {
          togglePasswordIcon.classList.remove('bi-eye-slash');
          togglePasswordIcon.classList.add('bi-eye');
        }
      });
form.addEventListener('submit', function (event) {
  let valid = true;

  const username = usernameInput.value.trim();
  const password = passwordInput.value;
// validasi data username dan password
  const isUsernameValid = /^[A-Z][a-zA-Z]*$/.test(username);
const isPasswordValid = (
  password.length >= 8 &&
  /[a-z]/.test(password) &&
  /[A-Z]/.test(password) &&
  /\d/.test(password)
);

if (!isPasswordValid) {
  passwordInput.classList.add('is-invalid');
  passwordFeedback.textContent = "Password harus minimal 8 karakter, mengandung huruf besar, huruf kecil, dan angka.";
  valid = false;
} else {
  passwordInput.classList.remove('is-invalid');
}

// jika validasi salah dan tidak
  if (!username || !isUsernameValid) {
    usernameInput.classList.add('is-invalid');
    document.getElementById('usernameFeedback').textContent = "Username harus dimulai dengan huruf kapital (contoh: Arya).";
    valid = false;
  } else {
    usernameInput.classList.remove('is-invalid');
  }
// jika validasi benar
  if (!valid) {
    event.preventDefault();
  } else {
    event.preventDefault(); 
    window.location.href = 'sewaMobil.html';
  }
});
// menambah class is-invalid ketika salah username maupun password
usernameInput.addEventListener('input', () => {
  usernameInput.classList.remove('is-invalid');
});
passwordInput.addEventListener('input', () => {
  passwordInput.classList.remove('is-invalid');
});
});
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>